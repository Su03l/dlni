# تطبيق دلّني - دليل المسجد النبوي الشريف التفاعلي

## 🕌 نظرة عامة

تطبيق دلّني هو دليل تفاعلي شامل للمسجد النبوي الشريف، مصمم لمساعدة الزوار والحجاج والمعتمرين في التنقل والوصول إلى الخدمات المختلفة بسهولة ودقة.

## ✨ الميزات الرئيسية

### 🗺️ **خريطة تفاعلية متقدمة**

- خرائط تفاعلية باستخدام Leaflet/OpenStreetMap
- عرض مواقع الخدمات في الوقت الفعلي
- حساب المسافات والاتجاهات بدقة
- مسارات ملاحة مرئية مثل Google Maps
- أيقونات مخصصة لكل نوع خدمة

### 📍 **نظام GPS متقدم**

- تحديد الموقع الدقيق للمستخدم
- حساب المسافات بالمتر
- تحديد الاتجاهات (شمال، جنوب، شرق، غرب)
- ملاحة تدريجية مع إرشادات صوتية

### 🏛️ **20+ خدمة شاملة**

- **دورات المياه** (6 مواقع)
- **أماكن الوضوء** (6 مواقع)
- **الروضة الشريفة** (مداخل منفصلة للرجال والنساء)
- **مياه زمزم** (نقاط التوزيع)
- **الطواف والسعي** (مداخل ومسارات)
- **الحلاقة** (للرجال والنساء)
- **الصيدليات والطوارئ الطبية**
- **مكاتب الإرشاد والاستعلامات**
- **مواقف السيارات**
- **خدمات ذوي الاحتياجات الخاصة**
- **المطاعم والكافيتريات**
- **مكاتب الأمانات والمفقودات**
- **مخارج الطوارئ**
- **أماكن الراحة**
- **خدمات الترجمة**

### 🤖 **مساعد ذكي تفاعلي**

- دردشة مباشرة مع إجابات فورية
- أسئلة سريعة شائعة
- إرشادات مخصصة حسب الموقع
- دعم كامل للغة العربية

### 🌤️ **معلومات شاملة**

- **حالة الطقس** في ال��دينة المنورة
- **مواقيت الصلاة** المحدثة
- **إحصائيات مباشرة** عن الازدحام
- **أفضل أوقات الزيارة**

### 📱 **أرقام الطوارئ**

- اتصال مباشر بأرقام الطوارئ
- أمن المسجد النبوي
- الخدمات الطبية
- مكاتب الاستعلامات

### 🎥 **جولة افتراضية**

- جولة 360° للمسجد النبوي
- معرض صور تفاعلي
- شرح صوتي (قيد التطوير)
- نقاط مميزة لكل موقع

### 📁 **مكتبة الملفات**

- أدلة PDF قابلة للتحميل
- خرائط تفصيلية
- إرشادات الحج والعمرة
- فيديوهات تعليمية

### 🎨 **تصميم متطور**

- دعم كامل للغة العربية (RTL)
- خطوط عربية احترافية (Amiri, Cairo)
- ألوان إسلامية (أخضر وذهبي)
- تصميم متجاوب لجميع الشاشات
- أنيميشن سلسة وتأثيرات بصرية

## 🛠️ التقنيات المستخدمة

### Frontend Framework

- **React 18** - إطار العمل الأساسي
- **TypeScript** - للأمان النوعي
- **Vite** - للتجميع والتطوير السريع

### UI & Styling

- **TailwindCSS** - للتصميم المرن
- **Radix UI** - مكونات UI متاحة
- **Lucide React** - أيقونات احترافية
- **Framer Motion** - أنيميشن متقدم

### Maps & Navigation

- **Leaflet** - خرائط تفاعلية
- **React Leaflet** - تكامل مع React
- **OpenStreetMap** - بيانات الخرائط

### Data Management

- **React Query** - إدارة البيانات
- **React Hook Form** - نماذج محسنة
- **Zod** - التحقق من البيانات

### Additional Features

- **React Router** - التنقل بين الصفحات
- **React Three Fiber** - رسوميات 3D
- **Date-fns** - إدارة التواريخ

## 📱 واجهات التطبيق

### 1. الصفحة الرئيسية (`/dlni`)

- عرض الخدمات في شبكة منظمة
- معلومات الطقس ومواقيت الصلاة
- إحصائيات مباشرة
- أرقام الطوارئ
- الجولة الافتراضية
- مكتبة الملفات

### 2. صفحة الخريطة

- خريطة تفاعلية كاملة
- قائمة المواقع مع المسافات
- نظام ملاحة متقدم
- مفتاح الخريطة

### 3. صفحة المساعد

- دردشة تفاعلية
- أسئلة سريعة
- إجابات ذكية

### 4. صفحة الدعم

- نماذج الإبلاغ
- معلومات الاتصال
- خدمة العملاء

## 🚀 التشغيل والتطوير

### متطلبات النظام

```bash
Node.js >= 18
npm >= 8
```

### التشغيل المحلي

```bash
# تثبيت الحزم
npm install

# تشغيل الخادم المحلي
npm run dev

# فحص الأنواع
npm run typecheck

# إنشاء النسخة الإنتاجية
npm run build
```

### الوصول للتطبيق

- الصفحة الرئيسية: `http://localhost:5173/`
- تطبيق دلّني: `http://localhost:5173/dlni`

## 📂 بنية المشروع

```
src/
├── components/
│   ├── ui/                 # مكونات UI الأساسية
│   └── dlni/              # مكونات تطبيق دلّني
│       ├── DlniHeader.tsx           # رأس الصفحة
│       ├── DlniHomePage.tsx         # الصفحة الرئيسية
│       ├── DlniMapPage.tsx          # صفحة الخريطة
│       ├── DlniChatPage.tsx         # صفحة المحادثة
│       ├── DlniSupportPage.tsx      # صفحة الدعم
│       ├── DlniInteractiveMap.tsx   # الخريطة التفاعلية
│       ├── DlniNavigation.tsx       # نظام الملاحة
│       ├── DlniWeatherPrayer.tsx    # الطقس والصلاة
│       ├── DlniStatistics.tsx       # الإحصائيات
│       ├── DlniVirtualTour.tsx      # الجولة الافتراضية
│       ├── DlniEmergencyCard.tsx    # أرقام الطوارئ
│       ├── DlniFileDisplay.tsx      # عرض الملفات
│       ├── DlniNotification.tsx     # التنبيهات
│       ├── DlniLocationPrompt.tsx   # طلب الموقع
│       └── DlniThemeProvider.tsx    # موفر الثيم
├── hooks/                 # React Hooks مخصصة
│   ├── use-dlni-location.ts         # إدارة الموقع الجغرافي
│   └── use-dlni-notification.ts     # إدارة التنبيهات
├── lib/
│   └── dlni-data.ts      # بيانات التطبيق
├── types/
│   └── dlni.ts           # أنواع TypeScript
└── pages/
    ├── Index.tsx         # الصفحة الرئيسية
    └── Dlni.tsx          # تطبيق دلّني
```

## 🎯 الميزات المتقدمة

### 1. نظام الموقع الذكي

- طلب إذن الموقع التلقائي
- حساب دقيق للمسافات باستخدام خوارزمية Haversine
- تحديث المواقع في الوقت الفعلي
- دعم للمواقع الداخلية

### 2. الملاحة التفاعلية

- مسارات مرئية على الخريطة
- إرشادات خطوة بخطوة
- تحديث المسافة المتبقية
- تكامل مع خرائط جوجل

### 3. التنبيهات الذكية

- أنواع متعددة (نجاح، خطأ، تحذير، أدعية)
- تموضع تلقائي
- اختفاء تدريجي
- دعم للنصوص الطويلة

### 4. إدارة الثيمات

- ثيم إسلامي مخصص
- ألوان متناسقة
- دعم الوضع الليلي (قيد التطوير)
- متغيرات CSS مخصصة

## 🔧 التخصيص والتطوير

### إضافة خدمة جديدة

1. أضف نوع الخدمة في `src/types/dlni.ts`
2. أضف بيانات المواقع في `src/lib/dlni-data.ts`
3. أضف الأيقونة المناسبة في `src/components/dlni/DlniHomePage.tsx`

### تخصيص الألوان

```css
:root {
  --dlni-primary: #166534;
  --dlni-secondary: #d97706;
  --dlni-accent: #059669;
}
```

### إضافة لغة جديدة

1. أضف ملفات الترجمة
2. حدث مكون `DlniThemeProvider`
3. أضف دعم RTL/LTR حسب الحاجة

## 🔒 الأمان والخصوصية

- **حماية البيانات**: لا يتم حفظ موقع المستخدم
- **HTTPS**: اتصال آمن مشفر
- **إ��ونات**: طلب صريح لإذن الموقع
- **عدم التتبع**: لا يتم تتبع المستخدمين

## 🎖️ الجودة والاختبار

- **TypeScript**: أمان نوعي كامل
- **ESLint**: فحص جودة الكود
- **Prettier**: تنسيق منتظم
- **Type Checking**: فحص الأنواع

## 📊 الأداء

- **Lazy Loading**: تحميل تدريجي للمكونات
- **Code Splitting**: تقسيم الكود
- **Tree Shaking**: إزالة الكود غير المستخدم
- **Optimized Images**: صور محسنة

## 🤝 المساهمة والدعم

للمساهمة في تطوير التطبيق:

1. Fork المستودع
2. أنشئ branch جديد
3. طبق التغييرات
4. اختبر التطبيق
5. أرسل Pull Request

## 📞 الدعم الفني

- **البريد الإلكتروني**: support@dlni.app
- **الهاتف**: +966-XX-XXX-XXXX
- **الموقع**: www.dlni.app

## 📄 الرخصة

هذا المشروع مرخص تحت رخصة MIT - انظر ملف LICENSE للتفاصيل.

---

**تطبيق دلّني** - رحلة روحانية مدعومة بالتكنولوجيا 🕌✨
